<template>
  <div class="flex-1 flex flex-col overflow-hidden">
    <AppHeader @select:account="selectAccount" @search:article="searchArticle" />
    <ArticleList v-if="activeAccount" ref="articleListRef" class="flex-1 overflow-y-scroll" />
  </div>
</template>

<script setup lang="ts">
import type ArticleList from '~/components/ArticleList.vue';

useHead({
  title: '微信公众号文章导出',
});

const activeAccount = useActiveAccount();
const articleListRef = ref<typeof ArticleList | null>(null);

function selectAccount() {
  articleListRef.value?.init();
}
function searchArticle(query: string) {
  articleListRef.value?.init(query);
}
</script>
